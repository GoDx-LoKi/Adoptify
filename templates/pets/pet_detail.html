{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class="text-center">{{ pet.name }}</h1>

    <!-- Main Image Display -->
    <div class="main-image-container text-center">
        <img id="mainImage" src="{{ pet.photo_main.url }}" alt="Main Image" class="main-image">
    </div>

    <!-- Thumbnail Gallery Below Main Image -->
    <div class="pet-gallery d-flex flex-wrap justify-content-center">
        {% if pet.photo_main %}  
            <img src="{{ pet.photo_main.url }}" alt="Main Photo" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_1 %}  
            <img src="{{ pet.photo_1.url }}" alt="Photo 1" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_2 %}  
            <img src="{{ pet.photo_2.url }}" alt="Photo 2" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_3 %}  
            <img src="{{ pet.photo_3.url }}" alt="Photo 3" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_4 %}  
            <img src="{{ pet.photo_4.url }}" alt="Photo 4" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_5 %}  
            <img src="{{ pet.photo_5.url }}" alt="Photo 5" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_6 %}  
            <img src="{{ pet.photo_6.url }}" alt="Photo 6" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_7 %}  
            <img src="{{ pet.photo_7.url }}" alt="Photo 7" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
        {% if pet.photo_8 %}  
            <img src="{{ pet.photo_8.url }}" alt="Photo 8" class="pet-thumbnail" onclick="changeMainImage(this)">
        {% endif %}
    </div>

    <style>
        .main-image-container {
            margin-bottom: 20px;
        }
        .main-image {
            width: 100%;
            max-width: 500px;
            height: auto;
            border-radius: 8px;
        }
        .pet-gallery {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .pet-thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .pet-thumbnail:hover {
            transform: scale(1.1);
        }
    </style>

    <!-- JavaScript to Update Main Image -->
    <script>
        function changeMainImage(thumbnail) {
            var mainImage = document.getElementById('mainImage');
            mainImage.src = thumbnail.src;

            // Optional: Highlight the selected thumbnail
            var thumbnails = document.querySelectorAll('.pet-thumbnail');
            thumbnails.forEach(img => img.style.border = "none"); 
            thumbnail.style.border = "2px solid #007bff";
        }
    </script>

<ul class="list-group mt-3">
    <li class="list-group-item bg-dark text-light"><strong>Type:</strong> {{ pet.pet_type }}</li>
    <li class="list-group-item bg-dark text-light"><strong>Gender:</strong> {{ pet.gender }}</li>
    <li class="list-group-item bg-dark text-light"><strong>Age:</strong> {{ pet.age }} years</li>
    <li class="list-group-item bg-dark text-light"><strong>Size:</strong> {{ pet.size }}</li>
    <li class="list-group-item bg-dark text-light"><strong>State:</strong> {{ pet.state }}</li>
    <li class="list-group-item bg-dark text-light"><strong>Vaccinated:</strong> {% if pet.vaccinated %}Yes{% else %}No{% endif %}</li>
    <li class="list-group-item bg-dark text-light"><strong>Description:</strong> {{ pet.description }}</li>
  </ul>

  <!-- Buttons -->
  <div class="text-center mt-4">
      <a href="{% url 'pets' %}" class="btn btn-outline-light">Back to Pets</a>
      <a href="{% url 'add_inquiry' pet.id %}" class="btn btn-success">Inquire Now</a>
  </div>
{% endblock %}
